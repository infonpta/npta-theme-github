{% schema %}
{
  "name": "Review Slider",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Customer Reviews"
    },
    {
      "type": "richtext",
      "id": "section_description",
      "label": "Section Description",
      "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>"
    },
         {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },

  ],
  "blocks": [
    {
      "type": "review",
      "name": "Review",
      "settings": [
        {
          "type": "image_picker",
          "id": "author_image",
          "label": "Author Image"
        },
        {
          "type": "text",
          "id": "author_name",
          "label": "Author Name",
          "default": "Riley M."
        },
        {
          "type": "text",
          "id": "author_title",
          "label": "Author Title",
          "default": "CPT"
        },
        {
          "type": "textarea",
          "id": "review_text",
          "label": "Review Text",
          "default": "I help clients achieve their fitness goals by complementing their nutrition. It's definitely a tangible benefit I see. This brings me happiness because I feel fulfilled as both a personal trainer and a nutrition coach."
        },
        {
          "type": "range",
          "id": "review_stars",
          "label": "Star Rating",
          "min": 1,
          "max": 5,
          "step": 1,
          "default": 5
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Review Slider",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<div class="section--reviews" style="background-color: {{ section.settings.background_color }};">
  <div class="section--reviews-container page-container">
    <div class="section--title-block">
      <h2 class="is--flex-start">Success Stories</h2>
        <div class="review-sub-head">{{ section.settings.section_description }}</div>
      
    </div>
    
    <div class="splide reviews-splide" id="splide">
      <div class="splide__track">
        <ul class="splide__list">
          {% for block in section.blocks %}
          <li class="splide__slide">
            <div class="review-card">
              <div class="author-info-wrap">
                {% if block.settings.author_image %}
                <img src="{{ block.settings.author_image | img_url: 'medium' }}" class="author-image">
                {% else %}
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="none" viewBox="0 0 120 120" class="author-img-default">
                  <path fill="#EFF1F3" d="M0 0h120v120H0z"/>
                  <path fill="#687787" fill-rule="evenodd" d="M33.25 38.482a2.625 2.625 0 0 1 2.604-2.607h47.292a2.606 2.606 0 0 1 2.604 2.607v42.036a2.625 2.625 0 0 1-2.604 2.607H35.854a2.607 2.607 0 0 1-2.604-2.607V38.482Zm47.25 2.643h-42v36.75l24.392-24.397a2.625 2.625 0 0 1 3.712 0L80.5 67.401V41.125Zm-36.75 10.5a5.25 5.25 0 1 0 10.5 0 5.25 5.25 0 0 0-10.5 0Z" clip-rule="evenodd"/>
                </svg>
                {% endif %}
                <div class="author-info">
                  <div class="review-stars">
                    {% for i in (1..block.settings.review_stars) %}
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="17" fill="none">
                      <path d="M8.087 1.55c.352-.791 1.474-.791 1.826 0l1.615 3.62a1 1 0 0 0 .808.588l3.944.416c.86.091 1.207 1.158.564 1.738l-2.946 2.654a1 1 0 0 0-.308.95l.822 3.88c.18.846-.728 1.506-1.478 1.073L9.5 14.49a1 1 0 0 0-1 0l-3.435 1.98c-.75.433-1.657-.227-1.477-1.073l.822-3.88a1 1 0 0 0-.308-.95L1.156 7.912c-.643-.58-.296-1.647.564-1.738l3.944-.416a1 1 0 0 0 .808-.587l1.615-3.622Z" fill="#DEBB06" />
                    </svg>
                    {% endfor %}
                  </div>
                  <div class="author-name">
                    <p>{{ block.settings.author_name }} | <span>{{ block.settings.author_title }}</span></p>
                  </div>
                </div>
              </div>
              <div class="review-content">
                <p>{{ block.settings.review_text }}</p>
              </div>
            </div>
          </li>
          {% endfor %}
        </ul>
      </div>
      <div class="splide__arrows">
        <button class="splide__arrow splide__arrow--prev">
 <svg xmlns="http://www.w3.org/2000/svg" width="38" height="39" viewBox="0 0 38 39" fill="none">
  <path d="M35.6251 20.6875H5.28443L5.59318 20.7825C6.48956 21.074 7.30368 21.5747 7.96818 22.2431L18.6557 32.9306L16.9694 34.5931L1.88818 19.5L16.9694 4.40689L18.6438 6.08127L7.95631 16.7688C7.2918 17.4373 6.47769 17.9379 5.58131 18.2294L5.28443 18.3125H35.6251V20.6875Z" fill="#141414"/>
</svg>
        </button>
        <button class="splide__arrow splide__arrow--next">
          <svg xmlns="http://www.w3.org/2000/svg" width="38" height="39" viewBox="0 0 38 39" fill="none">
  <path d="M2.37494 18.3125H32.7156L32.4068 18.2175C31.5104 17.926 30.6963 17.4253 30.0318 16.7569L19.3443 6.06936L21.0306 4.40686L36.1118 19.5L21.0306 34.5931L19.3562 32.9187L30.0437 22.2312C30.7082 21.5627 31.5223 21.0621 32.4187 20.7706L32.7156 20.6875H2.37494V18.3125Z" fill="#141414"/>
</svg>
        </button>
      </div>
    </div>
  </div>
</div>

<link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide-extension-auto-scroll@0.5.3/dist/js/splide-extension-auto-scroll.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    new Splide('#splide', {
     
      perMove: 1,
      gap:25,

      autoplay: false,
      breakpoints: {
        767: {
          perPage: 1,
                gap:10,
        },
        980: {
          perPage: 1,
                gap:15,
        },
        1439: {
          perPage: 1,
                gap:25,
        },
        1919: {
          perPage:1,
                gap:25,
        },
        1920: {
          perPage: 1,
                gap:25,
        },
          10000: {
          perPage: 1,
                gap:25,
        }
      }
    }).mount();
  });
</script>


<style>
.section--reviews {
  padding-top: 90px;
  padding-bottom: 90px;
  overflow:hidden;
}
.review-sub-head{
  color:  #141414;
    font-family: var(--font-body-family);
font-size: 16px;
font-style: normal;
font-weight: 400;
line-height: 150%; /* 24px */
  opacity:0.8;
}
  
.reviews-splide {
  margin-top: 40px;
}

.review-card {
  display: flex;

  padding: 30px 20px;
  flex-direction: column;
  align-items: flex-start;
  gap: 10px;
  border-radius: 20px;
  background: #133257;
}

.author-info-wrap {
  display: grid;
  grid-template-columns: 60px auto;
  grid-column-gap: 15px;
  align-items: center;
}

.author-info-wrap img {
  width: 60px;
  height: 60px;
  border-radius: 100px;
}
.author-info-wrap .author-img-default {
  width: 60px;
  height: 60px;
  border-radius: 100px;
}

.author-name p {
  color: #fff;
    font-family: var(--font-heading-family);
  font-size: 18px;
  font-style: normal;
  font-weight: 800;
  line-height: 104%;
  text-transform: uppercase;
  margin: 0;
}
.review-stars {
  margin-bottom: 10px;
}

.review-content p {
  color: #fff;
    font-family: var(--font-body-family);
  font-size: 16px;
  font-style: normal;
  font-weight: 500;
  line-height: 150%;
}

.splide__arrow {
  width: 38px;
  height: 38px;
  border-radius: 0 !important;
}
.splide__arrow svg {
  fill: #000;
  height: 90%;
  width: 90%;
}

.splide__arrow {
  background-color: transparent !important;
}
.splide__arrows {
  position: absolute;
  display: block;
  top: -60px;
  right: 0;
  width: 90px;
}

.splide__arrow--prev {
  left: 0 !important;
}
.splide__arrow--next {
  right: 0 !important;
}
.splide__arrow--prev svg {
  transform: rotate(0deg) !important;
}
  @media only screen and (max-width: 980px) {
    .reviews-splide  .splide__track{
        overflow:visible !important;
      }
  }

    @media only screen and (max-width: 768px) {
   .splide__arrows {
     left:0;
     right:0;
     margin-left: auto;
     margin-right: auto;
     bottom: -40px;
     top: auto !important;
   }
      .section--reviews h2 {
        text-align:center;
      }
      .section--reviews {

    padding-bottom: 120px !important;
}
      .review-sub-head{
text-align:center;
}
  }

  
 .reviews-splide  .splide__pagination {
  display:none;
}
</style>
